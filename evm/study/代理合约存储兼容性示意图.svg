<?xml version="1.0" encoding="UTF-8"?>
<svg width="1800" height="1600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #34495e; }
      .section-title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #2c3e50; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .code-text { font-family: 'Courier New', monospace; font-size: 10px; fill: #2c3e50; }
      .proxy-slot { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; }
      .impl-slot { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; }
      .user-slot { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; }
      .conflict-slot { fill: #ffebee; stroke: #f44336; stroke-width: 2; }
      .safe-slot { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .danger-arrow { stroke: #f44336; stroke-width: 3; fill: none; marker-end: url(#dangerarrow); }
      .safe-arrow { stroke: #4caf50; stroke-width: 2; fill: none; marker-end: url(#safearrow); }
      .warning-box { fill: #fff3cd; stroke: #ffc107; stroke-width: 2; }
      .success-box { fill: #d4edda; stroke: #28a745; stroke-width: 2; }
      .danger-box { fill: #f8d7da; stroke: #dc3545; stroke-width: 2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
    <marker id="dangerarrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f44336" />
    </marker>
    <marker id="safearrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50" />
    </marker>
  </defs>
  
  <!-- æ ‡é¢˜ -->
  <text x="900" y="30" text-anchor="middle" class="title">ä»£ç†åˆçº¦å­˜å‚¨å…¼å®¹æ€§è¯¦ç»†åˆ†æ</text>
  
  <!-- 1. ä»£ç†åˆçº¦åŸºæœ¬æ¶æ„ -->
  <g id="proxy-architecture">
    <text x="50" y="70" class="subtitle">1. ä»£ç†åˆçº¦å­˜å‚¨æ¶æ„</text>
    
    <!-- ä»£ç†åˆçº¦ -->
    <text x="50" y="100" class="section-title">ä»£ç†åˆçº¦ (Proxy)</text>
    <rect x="50" y="110" width="300" height="150" class="proxy-slot" rx="5"/>
    <text x="60" y="130" class="code-text">contract Proxy {</text>
    <text x="70" y="145" class="code-text">    // EIP-1967 æ ‡å‡†å­˜å‚¨æ§½</text>
    <text x="70" y="160" class="code-text">    // å®ç°åœ°å€æ§½:</text>
    <text x="70" y="175" class="code-text">    // 0x360894a13ba1a3210667c828492db98dca3e2076</text>
    <text x="70" y="190" class="code-text">    // cc3735a920a3ca505d382bbc</text>
    <text x="70" y="205" class="code-text">    </text>
    <text x="70" y="220" class="code-text">    // ç®¡ç†å‘˜åœ°å€æ§½:</text>
    <text x="70" y="235" class="code-text">    // 0xb53127684a568b3173ae13b9f8a6016e243e63b6</text>
    <text x="70" y="250" class="code-text">    // e8ee1178d6a717850b5d6103</text>
    <text x="60" y="265" class="code-text">}</text>
    
    <!-- å®ç°åˆçº¦ -->
    <text x="400" y="100" class="section-title">å®ç°åˆçº¦ (Implementation)</text>
    <rect x="400" y="110" width="300" height="150" class="impl-slot" rx="5"/>
    <text x="410" y="130" class="code-text">contract Implementation {</text>
    <text x="420" y="145" class="code-text">    // ä¸šåŠ¡é€»è¾‘å­˜å‚¨</text>
    <text x="420" y="160" class="code-text">    uint256 public value;      // Slot 0</text>
    <text x="420" y="175" class="code-text">    address public owner;      // Slot 1</text>
    <text x="420" y="190" class="code-text">    mapping(address => uint256) balances;</text>
    <text x="420" y="205" class="code-text">                              // Slot 2</text>
    <text x="420" y="220" class="code-text">    </text>
    <text x="420" y="235" class="code-text">    function setValue(uint256 _value) {</text>
    <text x="430" y="250" class="code-text">        value = _value;</text>
    <text x="420" y="265" class="code-text">    }</text>
    <text x="410" y="280" class="code-text">}</text>
    
    <!-- å­˜å‚¨åˆ†ç¦»è¯´æ˜ -->
    <rect x="750" y="110" width="350" height="150" class="warning-box" rx="5"/>
    <text x="760" y="130" class="section-title">âš ï¸ å…³é”®æ¦‚å¿µ</text>
    <text x="760" y="150" class="text">â€¢ ä»£ç†åˆçº¦å­˜å‚¨ä»£ç†ç›¸å…³æ•°æ®</text>
    <text x="760" y="165" class="text">â€¢ å®ç°åˆçº¦å®šä¹‰å­˜å‚¨å¸ƒå±€</text>
    <text x="760" y="180" class="text">â€¢ delegatecall åœ¨ä»£ç†å­˜å‚¨ä¸­æ‰§è¡Œ</text>
    <text x="760" y="195" class="text">â€¢ å­˜å‚¨æ§½å†²çªæ˜¯ä¸»è¦é£é™©</text>
    <text x="760" y="215" class="text">EIP-1967 æ ‡å‡†æ§½ä½:</text>
    <text x="760" y="230" class="small-text">å®ç°åœ°å€: keccak256("eip1967.proxy.implementation") - 1</text>
    <text x="760" y="245" class="small-text">ç®¡ç†å‘˜åœ°å€: keccak256("eip1967.proxy.admin") - 1</text>
  </g>
  
  <!-- 2. å­˜å‚¨æ§½å†²çªé—®é¢˜ -->
  <g id="storage-conflicts">
    <text x="50" y="330" class="subtitle">2. å­˜å‚¨æ§½å†²çªé—®é¢˜åˆ†æ</text>
    
    <!-- å†²çªç¤ºä¾‹ -->
    <text x="50" y="360" class="section-title">âŒ å±é™©çš„å­˜å‚¨å†²çª</text>
    
    <!-- ä»£ç†åˆçº¦V1 -->
    <rect x="50" y="370" width="250" height="100" class="danger-box" rx="5"/>
    <text x="60" y="390" class="code-text">// ä»£ç†åˆçº¦å†…éƒ¨å­˜å‚¨</text>
    <text x="60" y="405" class="code-text">address implementation; // Slot 0</text>
    <text x="60" y="420" class="code-text">address admin;          // Slot 1</text>
    <text x="60" y="435" class="code-text">bool initialized;       // Slot 2</text>
    
    <!-- å®ç°åˆçº¦V1 -->
    <rect x="350" y="370" width="250" height="100" class="danger-box" rx="5"/>
    <text x="360" y="390" class="code-text">// å®ç°åˆçº¦å­˜å‚¨å¸ƒå±€</text>
    <text x="360" y="405" class="code-text">uint256 value;          // Slot 0 âš ï¸</text>
    <text x="360" y="420" class="code-text">address owner;          // Slot 1 âš ï¸</text>
    <text x="360" y="435" class="code-text">uint256 balance;        // Slot 2 âš ï¸</text>
    
    <!-- å†²çªç®­å¤´ -->
    <path d="M 320 420 L 340 420" class="danger-arrow"/>
    <text x="330" y="410" class="small-text" fill="#f44336">å†²çª!</text>
    
    <!-- å†²çªç»“æœ -->
    <rect x="650" y="370" width="300" height="100" class="conflict-slot" rx="5"/>
    <text x="660" y="390" class="section-title">å†²çªç»“æœ:</text>
    <text x="660" y="410" class="text">â€¢ implementation è¢« value è¦†ç›–</text>
    <text x="660" y="425" class="text">â€¢ admin è¢« owner è¦†ç›–</text>
    <text x="660" y="440" class="text">â€¢ ä»£ç†åŠŸèƒ½å®Œå…¨å¤±æ•ˆ</text>
    <text x="660" y="455" class="text">â€¢ å¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±</text>
  </g>
  
  <!-- 3. å®‰å…¨çš„å­˜å‚¨æ¨¡å¼ -->
  <g id="safe-storage">
    <text x="50" y="520" class="subtitle">3. å®‰å…¨çš„å­˜å‚¨æ¨¡å¼</text>
    
    <!-- EIP-1967 æ ‡å‡† -->
    <text x="50" y="550" class="section-title">âœ… EIP-1967 æ ‡å‡†æ¨¡å¼</text>
    
    <!-- æ ‡å‡†ä»£ç† -->
    <rect x="50" y="560" width="350" height="120" class="success-box" rx="5"/>
    <text x="60" y="580" class="code-text">// EIP-1967 æ ‡å‡†ä»£ç†</text>
    <text x="60" y="595" class="code-text">contract StandardProxy {</text>
    <text x="70" y="610" class="code-text">    // å®ç°åœ°å€å­˜å‚¨åœ¨ç‰¹æ®Šæ§½ä½</text>
    <text x="70" y="625" class="code-text">    // Slot: 0x360894a13ba1a3210667c828492db98d...</text>
    <text x="70" y="640" class="code-text">    </text>
    <text x="70" y="655" class="code-text">    // ç®¡ç†å‘˜åœ°å€å­˜å‚¨åœ¨ç‰¹æ®Šæ§½ä½</text>
    <text x="70" y="670" class="code-text">    // Slot: 0xb53127684a568b3173ae13b9f8a6016e...</text>
    <text x="60" y="685" class="code-text">}</text>
    
    <!-- å®ç°åˆçº¦å®‰å…¨å¸ƒå±€ -->
    <rect x="450" y="560" width="350" height="120" class="success-box" rx="5"/>
    <text x="460" y="580" class="code-text">// å®‰å…¨çš„å®ç°åˆçº¦</text>
    <text x="460" y="595" class="code-text">contract SafeImplementation {</text>
    <text x="470" y="610" class="code-text">    // ä» Slot 0 å¼€å§‹å®‰å…¨ä½¿ç”¨</text>
    <text x="470" y="625" class="code-text">    uint256 public value;      // Slot 0 âœ…</text>
    <text x="470" y="640" class="code-text">    address public owner;      // Slot 1 âœ…</text>
    <text x="470" y="655" class="code-text">    mapping(address => uint256) balances;</text>
    <text x="470" y="670" class="code-text">                              // Slot 2 âœ…</text>
    <text x="460" y="685" class="code-text">}</text>
    
    <!-- å®‰å…¨ç®­å¤´ -->
    <path d="M 420 625 L 440 625" class="safe-arrow"/>
    <text x="430" y="615" class="small-text" fill="#4caf50">å®‰å…¨!</text>
    
    <!-- æ§½ä½è®¡ç®— -->
    <rect x="850" y="560" width="400" height="120" class="warning-box" rx="5"/>
    <text x="860" y="580" class="section-title">ç‰¹æ®Šæ§½ä½è®¡ç®—:</text>
    <text x="860" y="600" class="code-text">// å®ç°åœ°å€æ§½</text>
    <text x="860" y="615" class="code-text">bytes32 IMPLEMENTATION_SLOT = </text>
    <text x="870" y="630" class="code-text">keccak256("eip1967.proxy.implementation") - 1;</text>
    <text x="860" y="650" class="code-text">// ç®¡ç†å‘˜åœ°å€æ§½</text>
    <text x="860" y="665" class="code-text">bytes32 ADMIN_SLOT = </text>
    <text x="870" y="680" class="code-text">keccak256("eip1967.proxy.admin") - 1;</text>
  </g>
  
  <!-- 4. å‡çº§å…¼å®¹æ€§æ£€æŸ¥ -->
  <g id="upgrade-compatibility">
    <text x="50" y="730" class="subtitle">4. å‡çº§å…¼å®¹æ€§æ£€æŸ¥</text>
    
    <!-- V1 å®ç° -->
    <text x="50" y="760" class="section-title">å®ç°åˆçº¦ V1</text>
    <rect x="50" y="770" width="250" height="120" class="impl-slot" rx="5"/>
    <text x="60" y="790" class="code-text">contract ImplementationV1 {</text>
    <text x="70" y="805" class="code-text">    uint256 value;     // Slot 0</text>
    <text x="70" y="820" class="code-text">    address owner;     // Slot 1</text>
    <text x="70" y="835" class="code-text">    bool active;       // Slot 2</text>
    <text x="70" y="850" class="code-text">    uint256 balance;   // Slot 3</text>
    <text x="60" y="865" class="code-text">}</text>
    
    <!-- å…¼å®¹çš„V2 -->
    <text x="350" y="760" class="section-title">âœ… å…¼å®¹çš„ V2 å‡çº§</text>
    <rect x="350" y="770" width="300" height="120" class="success-box" rx="5"/>
    <text x="360" y="790" class="code-text">contract ImplementationV2 {</text>
    <text x="370" y="805" class="code-text">    uint256 value;     // Slot 0 (ä¿æŒ)</text>
    <text x="370" y="820" class="code-text">    address owner;     // Slot 1 (ä¿æŒ)</text>
    <text x="370" y="835" class="code-text">    bool active;       // Slot 2 (ä¿æŒ)</text>
    <text x="370" y="850" class="code-text">    uint256 balance;   // Slot 3 (ä¿æŒ)</text>
    <text x="370" y="865" class="code-text">    uint256 newFeature;// Slot 4 (æ–°å¢)</text>
    <text x="360" y="880" class="code-text">}</text>
    
    <!-- ä¸å…¼å®¹çš„V2 -->
    <text x="700" y="760" class="section-title">âŒ ä¸å…¼å®¹çš„ V2 å‡çº§</text>
    <rect x="700" y="770" width="300" height="120" class="danger-box" rx="5"/>
    <text x="710" y="790" class="code-text">contract BadImplementationV2 {</text>
    <text x="720" y="805" class="code-text">    address owner;     // Slot 0 âš ï¸ æ”¹å˜!</text>
    <text x="720" y="820" class="code-text">    uint256 value;     // Slot 1 âš ï¸ æ”¹å˜!</text>
    <text x="720" y="835" class="code-text">    uint256 newData;   // Slot 2 âš ï¸ è¦†ç›–!</text>
    <text x="720" y="850" class="code-text">    bool active;       // Slot 3 âš ï¸ ç§»åŠ¨!</text>
    <text x="710" y="880" class="code-text">}</text>
    
    <!-- å…¼å®¹æ€§è§„åˆ™ -->
    <rect x="1050" y="770" width="350" height="120" class="warning-box" rx="5"/>
    <text x="1060" y="790" class="section-title">å‡çº§å…¼å®¹æ€§è§„åˆ™:</text>
    <text x="1060" y="810" class="text">âœ… å¯ä»¥åœ¨æœ«å°¾æ·»åŠ æ–°å˜é‡</text>
    <text x="1060" y="825" class="text">âœ… å¯ä»¥æ·»åŠ æ–°çš„æ˜ å°„</text>
    <text x="1060" y="840" class="text">âŒ ä¸èƒ½æ”¹å˜ç°æœ‰å˜é‡é¡ºåº</text>
    <text x="1060" y="855" class="text">âŒ ä¸èƒ½æ”¹å˜ç°æœ‰å˜é‡ç±»å‹</text>
    <text x="1060" y="870" class="text">âŒ ä¸èƒ½åˆ é™¤ç°æœ‰å˜é‡</text>
  </g>
  
  <!-- 5. å­˜å‚¨é—´éš™æŠ€æœ¯ -->
  <g id="storage-gaps">
    <text x="50" y="940" class="subtitle">5. å­˜å‚¨é—´éš™ (Storage Gaps) æŠ€æœ¯</text>
    
    <!-- æ— é—´éš™ç‰ˆæœ¬ -->
    <text x="50" y="970" class="section-title">âŒ æ— å­˜å‚¨é—´éš™</text>
    <rect x="50" y="980" width="300" height="100" class="danger-box" rx="5"/>
    <text x="60" y="1000" class="code-text">contract BaseV1 {</text>
    <text x="70" y="1015" class="code-text">    uint256 value;     // Slot 0</text>
    <text x="70" y="1030" class="code-text">    address owner;     // Slot 1</text>
    <text x="60" y="1045" class="code-text">}</text>
    <text x="60" y="1065" class="small-text">å‡çº§æ—¶å¯èƒ½ä¸å­åˆçº¦å†²çª</text>
    
    <!-- æœ‰é—´éš™ç‰ˆæœ¬ -->
    <text x="400" y="970" class="section-title">âœ… ä½¿ç”¨å­˜å‚¨é—´éš™</text>
    <rect x="400" y="980" width="350" height="100" class="success-box" rx="5"/>
    <text x="410" y="1000" class="code-text">contract BaseV1 {</text>
    <text x="420" y="1015" class="code-text">    uint256 value;     // Slot 0</text>
    <text x="420" y="1030" class="code-text">    address owner;     // Slot 1</text>
    <text x="420" y="1045" class="code-text">    uint256[48] __gap; // Slots 2-49 é¢„ç•™</text>
    <text x="410" y="1060" class="code-text">}</text>
    <text x="410" y="1080" class="small-text">ä¸ºæœªæ¥å‡çº§é¢„ç•™50ä¸ªæ§½ä½</text>
    
    <!-- é—´éš™ä½¿ç”¨ç¤ºä¾‹ -->
    <rect x="800" y="980" width="400" height="100" class="warning-box" rx="5"/>
    <text x="810" y="1000" class="code-text">// å‡çº§æ—¶ä½¿ç”¨é—´éš™</text>
    <text x="810" y="1015" class="code-text">contract BaseV2 {</text>
    <text x="820" y="1030" class="code-text">    uint256 value;     // Slot 0</text>
    <text x="820" y="1045" class="code-text">    address owner;     // Slot 1</text>
    <text x="820" y="1060" class="code-text">    uint256 newFeature;// Slot 2 (ä½¿ç”¨é—´éš™)</text>
    <text x="820" y="1075" class="code-text">    uint256[47] __gap; // è°ƒæ•´é—´éš™å¤§å°</text>
    <text x="810" y="1090" class="code-text">}</text>
  </g>
  
  <!-- 6. ç»§æ‰¿å­˜å‚¨å¸ƒå±€ -->
  <g id="inheritance-storage">
    <text x="50" y="1140" class="subtitle">6. ç»§æ‰¿å­˜å‚¨å¸ƒå±€</text>
    
    <!-- åŸºç¡€åˆçº¦ -->
    <text x="50" y="1170" class="section-title">åŸºç¡€åˆçº¦</text>
    <rect x="50" y="1180" width="250" height="80" class="user-slot" rx="5"/>
    <text x="60" y="1200" class="code-text">contract Base {</text>
    <text x="70" y="1215" class="code-text">    uint256 baseValue; // Slot 0</text>
    <text x="70" y="1230" class="code-text">    address baseOwner; // Slot 1</text>
    <text x="60" y="1245" class="code-text">}</text>
    
    <!-- ç»§æ‰¿åˆçº¦ -->
    <text x="350" y="1170" class="section-title">ç»§æ‰¿åˆçº¦</text>
    <rect x="350" y="1180" width="300" height="80" class="impl-slot" rx="5"/>
    <text x="360" y="1200" class="code-text">contract Child is Base {</text>
    <text x="370" y="1215" class="code-text">    uint256 childValue;  // Slot 2</text>
    <text x="370" y="1230" class="code-text">    bool childActive;    // Slot 3</text>
    <text x="360" y="1245" class="code-text">}</text>
    
    <!-- å­˜å‚¨å¸ƒå±€ -->
    <text x="700" y="1170" class="section-title">æœ€ç»ˆå­˜å‚¨å¸ƒå±€</text>
    <rect x="700" y="1180" width="200" height="20" class="user-slot"/>
    <text x="800" y="1193" text-anchor="middle" class="small-text">Slot 0: baseValue</text>
    <rect x="700" y="1205" width="200" height="20" class="user-slot"/>
    <text x="800" y="1218" text-anchor="middle" class="small-text">Slot 1: baseOwner</text>
    <rect x="700" y="1230" width="200" height="20" class="impl-slot"/>
    <text x="800" y="1243" text-anchor="middle" class="small-text">Slot 2: childValue</text>
    <rect x="700" y="1255" width="200" height="20" class="impl-slot"/>
    <text x="800" y="1268" text-anchor="middle" class="small-text">Slot 3: childActive</text>
    
    <!-- ç»§æ‰¿è§„åˆ™ -->
    <rect x="950" y="1180" width="350" height="80" class="warning-box" rx="5"/>
    <text x="960" y="1200" class="section-title">ç»§æ‰¿å­˜å‚¨è§„åˆ™:</text>
    <text x="960" y="1220" class="text">â€¢ çˆ¶åˆçº¦å˜é‡åœ¨å‰</text>
    <text x="960" y="1235" class="text">â€¢ å­åˆçº¦å˜é‡åœ¨å</text>
    <text x="960" y="1250" class="text">â€¢ æŒ‰ç»§æ‰¿é¡ºåºæ’åˆ—</text>
  </g>
  
  <!-- 7. æœ€ä½³å®è·µæ€»ç»“ -->
  <g id="best-practices">
    <text x="50" y="1310" class="subtitle">7. ä»£ç†åˆçº¦å­˜å‚¨æœ€ä½³å®è·µ</text>
    
    <!-- è®¾è®¡é˜¶æ®µ -->
    <rect x="50" y="1330" width="350" height="120" class="success-box" rx="5"/>
    <text x="60" y="1350" class="section-title">í¾¯ è®¾è®¡é˜¶æ®µ</text>
    <text x="60" y="1370" class="text">â€¢ ä½¿ç”¨ EIP-1967 æ ‡å‡†</text>
    <text x="60" y="1385" class="text">â€¢ é¢„ç•™å­˜å‚¨é—´éš™</text>
    <text x="60" y="1400" class="text">â€¢ é¿å…æ„é€ å‡½æ•°åˆå§‹åŒ–</text>
    <text x="60" y="1415" class="text">â€¢ ä½¿ç”¨ initializer æ¨¡å¼</text>
    <text x="60" y="1430" class="text">â€¢ æ–‡æ¡£åŒ–å­˜å‚¨å¸ƒå±€</text>
    
    <!-- å¼€å‘é˜¶æ®µ -->
    <rect x="450" y="1330" width="350" height="120" class="warning-box" rx="5"/>
    <text x="460" y="1350" class="section-title">âš™ï¸ å¼€å‘é˜¶æ®µ</text>
    <text x="460" y="1370" class="text">â€¢ ä½¿ç”¨å­˜å‚¨å¸ƒå±€æ£€æŸ¥å·¥å…·</text>
    <text x="460" y="1385" class="text">â€¢ ç¼–å†™å‡çº§å…¼å®¹æ€§æµ‹è¯•</text>
    <text x="460" y="1400" class="text">â€¢ éªŒè¯å­˜å‚¨æ§½ä¸å†²çª</text>
    <text x="460" y="1415" class="text">â€¢ ä½¿ç”¨ OpenZeppelin åº“</text>
    <text x="460" y="1430" class="text">â€¢ ä»£ç å®¡è®¡</text>
    
    <!-- éƒ¨ç½²é˜¶æ®µ -->
    <rect x="850" y="1330" width="350" height="120" class="danger-box" rx="5"/>
    <text x="860" y="1350" class="section-title">íº€ éƒ¨ç½²é˜¶æ®µ</text>
    <text x="860" y="1370" class="text">â€¢ æµ‹è¯•ç½‘å……åˆ†æµ‹è¯•</text>
    <text x="860" y="1385" class="text">â€¢ å‡çº§è·¯å¾„éªŒè¯</text>
    <text x="860" y="1400" class="text">â€¢ å¤šç­¾ç®¡ç†æƒé™</text>
    <text x="860" y="1415" class="text">â€¢ æ—¶é—´é”ä¿æŠ¤</text>
    <text x="860" y="1430" class="text">â€¢ åº”æ€¥æš‚åœæœºåˆ¶</text>
    
    <!-- å·¥å…·æ¨è -->
    <rect x="1250" y="1330" width="350" height="120" class="proxy-slot" rx="5"/>
    <text x="1260" y="1350" class="section-title">í» ï¸ æ¨èå·¥å…·</text>
    <text x="1260" y="1370" class="text">â€¢ @openzeppelin/upgrades</text>
    <text x="1260" y="1385" class="text">â€¢ hardhat-upgrades</text>
    <text x="1260" y="1400" class="text">â€¢ storage-layout checker</text>
    <text x="1260" y="1415" class="text">â€¢ slither é™æ€åˆ†æ</text>
    <text x="1260" y="1430" class="text">â€¢ mythril å®‰å…¨æ‰«æ</text>
  </g>
  
  <!-- 8. å¸¸è§é™·é˜±è­¦å‘Š -->
  <g id="common-pitfalls">
    <text x="50" y="1500" class="subtitle">8. å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</text>
    
    <rect x="50" y="1520" width="1500" height="60" class="danger-box" rx="5"/>
    <text x="60" y="1540" class="section-title">âš ï¸ ä¸¥é‡è­¦å‘Š</text>
    <text x="60" y="1560" class="text">â€¢ æ°¸è¿œä¸è¦åœ¨ä»£ç†åˆçº¦ä¸­ç›´æ¥å£°æ˜çŠ¶æ€å˜é‡ â€¢ å‡çº§å‰å¿…é¡»éªŒè¯å­˜å‚¨å¸ƒå±€å…¼å®¹æ€§ â€¢ ä½¿ç”¨ delegatecall æ—¶è¦ç‰¹åˆ«æ³¨æ„å­˜å‚¨ä¸Šä¸‹æ–‡</text>
    <text x="60" y="1575" class="text">â€¢ æ„é€ å‡½æ•°åœ¨ä»£ç†æ¨¡å¼ä¸‹ä¸ä¼šæ‰§è¡Œ â€¢ å°å¿ƒå¤„ç†ç»§æ‰¿é“¾ä¸­çš„å­˜å‚¨å¸ƒå±€ â€¢ æµ‹è¯•æ‰€æœ‰å‡çº§è·¯å¾„çš„æ•°æ®å®Œæ•´æ€§</text>
  </g>
</svg>
