# ğŸ“ AirdropMerkleNFTMarket è¯¾å ‚æ•™å­¦å¤§çº²

> ä¸“ä¸º Web3 åˆå­¦è€…è®¾è®¡çš„å®Œæ•´è¯¾ç¨‹ä½“ç³»

---

## ğŸ“‹ è¯¾ç¨‹ä¿¡æ¯

- **è¯¾ç¨‹åç§°**ï¼šåŸºäº Merkle æ ‘çš„ NFT ç©ºæŠ•å¸‚åœºå¼€å‘
- **ç›®æ ‡å­¦å‘˜**ï¼šWeb3 åˆå­¦è€…ã€æ™ºèƒ½åˆçº¦å¼€å‘æ–°æ‰‹
- **è¯¾ç¨‹æ—¶é•¿**ï¼š6 å°æ—¶ï¼ˆå¯åˆ†ä¸º 3 æ¬¡è¯¾ï¼Œæ¯æ¬¡ 2 å°æ—¶ï¼‰
- **å…ˆä¿®è¦æ±‚**ï¼šåŸºç¡€çš„ç¼–ç¨‹ç»éªŒï¼Œäº†è§£åŒºå—é“¾æ¦‚å¿µ
- **å¼€å‘ç¯å¢ƒ**ï¼šFoundryã€VS Codeã€Git

---

## ğŸ¯ è¯¾ç¨‹ç›®æ ‡

### çŸ¥è¯†ç›®æ ‡
- ç†è§£ ERC20 å’Œ ERC721 æ ‡å‡†
- æŒæ¡ Merkle æ ‘åœ¨åŒºå—é“¾ä¸­çš„åº”ç”¨
- å­¦ä¼šä½¿ç”¨ Permit æœºåˆ¶ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- äº†è§£æ™ºèƒ½åˆçº¦å®‰å…¨æœ€ä½³å®è·µ

### æŠ€èƒ½ç›®æ ‡
- èƒ½å¤Ÿç¼–å†™å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦
- æŒæ¡ Foundry å¼€å‘å·¥å…·é“¾
- å­¦ä¼šç¼–å†™å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹
- èƒ½å¤Ÿè¿›è¡Œåˆçº¦äº¤äº’å’Œå‰ç«¯é›†æˆ

### ç´ å…»ç›®æ ‡
- åŸ¹å…»å®‰å…¨ç¼–ç¨‹æ„è¯†
- å»ºç«‹ç³»ç»Ÿæ€§æ€ç»´
- æå‡é—®é¢˜è§£å†³èƒ½åŠ›

---

## ğŸ“š ç¬¬ä¸€è¯¾ï¼šé¡¹ç›®æ¦‚è§ˆä¸åŸºç¡€æ¦‚å¿µï¼ˆ2å°æ—¶ï¼‰

### ğŸ• æ—¶é—´å®‰æ’

| æ—¶é—´æ®µ | å†…å®¹ | æ•™å­¦æ–¹å¼ |
|--------|------|----------|
| 0-20åˆ†é’Ÿ | è¯¾ç¨‹ä»‹ç»ä¸ç¯å¢ƒå‡†å¤‡ | è®²è§£ + æ¼”ç¤º |
| 20-50åˆ†é’Ÿ | Web3 åŸºç¡€æ¦‚å¿µå›é¡¾ | è®²è§£ + äº’åŠ¨ |
| 50-60åˆ†é’Ÿ | ä¼‘æ¯ | - |
| 60-90åˆ†é’Ÿ | é¡¹ç›®æ¶æ„è§£æ | è®²è§£ + æ¡ˆä¾‹ |
| 90-120åˆ†é’Ÿ | å¼€å‘ç¯å¢ƒæ­å»º | å®æ“ + æŒ‡å¯¼ |

### ğŸ“– æ•™å­¦å†…å®¹

#### 1. è¯¾ç¨‹å¯¼å…¥ï¼ˆ20åˆ†é’Ÿï¼‰

**å¼€åœºç™½**ï¼š
> "å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬è¦ä¸€èµ·æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Web3 é¡¹ç›®ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ª NFT é¡¹ç›®æ–¹ï¼Œè¦ä¸ºæ—©æœŸæ”¯æŒè€…ä¸¾åŠç©ºæŠ•æ´»åŠ¨ã€‚ä¼ ç»Ÿæ–¹å¼éœ€è¦ç»´æŠ¤ä¸€ä¸ªåºå¤§çš„ç™½åå•ï¼Œæˆæœ¬é«˜æ˜‚ã€‚æˆ‘ä»¬çš„é¡¹ç›®å°†ç”¨ Merkle æ ‘æŠ€æœ¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼"

**å­¦ä¹ ç›®æ ‡å±•ç¤º**ï¼š
```
ä»Šå¤©å­¦å®Œåï¼Œä½ å°†èƒ½å¤Ÿï¼š
âœ… ç†è§£ä»€ä¹ˆæ˜¯ Merkle æ ‘åŠå…¶ä¼˜åŠ¿
âœ… æŒæ¡ ERC20 å’Œ ERC721 æ ‡å‡†
âœ… å­¦ä¼šä½¿ç”¨ Foundry å¼€å‘å·¥å…·
âœ… ç¼–å†™ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦
```

#### 2. åŸºç¡€æ¦‚å¿µå›é¡¾ï¼ˆ30åˆ†é’Ÿï¼‰

**äº’åŠ¨é—®ç­”**ï¼š
- "è°èƒ½å‘Šè¯‰æˆ‘ä»€ä¹ˆæ˜¯æ™ºèƒ½åˆçº¦ï¼Ÿ"
- "ERC20 å’Œ ERC721 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"
- "ä¸ºä»€ä¹ˆéœ€è¦ gas è´¹ï¼Ÿ"

**æ ¸å¿ƒæ¦‚å¿µè®²è§£**ï¼š

```solidity
// ERC20 ç¤ºä¾‹ï¼šä»£å¸å°±åƒæ•°å­—è´§å¸
contract SimpleToken {
    mapping(address => uint256) public balances;
    
    function transfer(address to, uint256 amount) public {
        balances[msg.sender] -= amount;
        balances[to] += amount;
    }
}

// ERC721 ç¤ºä¾‹ï¼šNFT å°±åƒæ•°å­—æ”¶è—å“
contract SimpleNFT {
    mapping(uint256 => address) public owners;
    
    function mint(address to, uint256 tokenId) public {
        owners[tokenId] = to;
    }
}
```

**æ¯”å–»è§£é‡Š**ï¼š
- ERC20 = é“¶è¡Œè´¦æˆ·ï¼ˆå¯åˆ†å‰²çš„æ•°å­—è´§å¸ï¼‰
- ERC721 = æˆ¿äº§è¯ï¼ˆç‹¬ä¸€æ— äºŒçš„æ•°å­—èµ„äº§ï¼‰

#### 3. é¡¹ç›®æ¶æ„è§£æï¼ˆ30åˆ†é’Ÿï¼‰

**æ¶æ„å›¾å±•ç¤º**ï¼š
```
ğŸª æ•°å­—å•†åº—ç³»ç»Ÿ
â”œâ”€â”€ ğŸ’° AirdropTokenï¼ˆå•†åº—è´§å¸ï¼‰
â”œâ”€â”€ ğŸ–¼ï¸ AirdropNFTï¼ˆå•†åº—å•†å“ï¼‰
â””â”€â”€ ğŸ§  AirdropMerkleNFTMarketï¼ˆå•†åº—å¤§è„‘ï¼‰
```

**å®é™…æ¡ˆä¾‹**ï¼š
> "å‡è®¾ä½ è¦å¼€ä¸€å®¶æ•°å­—è‰ºæœ¯å“å•†åº—ã€‚é¡¾å®¢ç”¨ä½ å‘è¡Œçš„ä»£å¸è´­ä¹° NFT è‰ºæœ¯å“ã€‚VIP ä¼šå‘˜äº«å—æŠ˜æ‰£ï¼Œä½†ä½ ä¸æƒ³æŠŠæ‰€æœ‰ä¼šå‘˜ä¿¡æ¯éƒ½å­˜åœ¨åŒºå—é“¾ä¸Šï¼ˆå¤ªè´µäº†ï¼ï¼‰ã€‚è¿™æ—¶å€™ Merkle æ ‘å°±æ´¾ä¸Šç”¨åœºäº†ã€‚"

#### 4. ç¯å¢ƒæ­å»ºå®æ“ï¼ˆ30åˆ†é’Ÿï¼‰

**æ­¥éª¤æ¼”ç¤º**ï¼š
```bash
# 1. å®‰è£… Foundry
curl -L https://foundry.paradigm.xyz | bash
foundryup

# 2. åˆ›å»ºé¡¹ç›®
forge init my-nft-market
cd my-nft-market

# 3. å®‰è£…ä¾èµ–
forge install OpenZeppelin/openzeppelin-contracts

# 4. ç¼–è¯‘æµ‹è¯•
forge build
forge test
```

**å¸¸è§é—®é¢˜å¤„ç†**ï¼š
- Windows ç”¨æˆ·å®‰è£…é—®é¢˜
- ç½‘ç»œè¿æ¥é—®é¢˜
- æƒé™é—®é¢˜

### ğŸ¯ è¯¾å ‚æ´»åŠ¨

#### æ´»åŠ¨1ï¼šæ¦‚å¿µé…å¯¹æ¸¸æˆï¼ˆ10åˆ†é’Ÿï¼‰
å­¦ç”Ÿå°†æ¦‚å¿µå’Œè§£é‡Šè¿›è¡Œé…å¯¹ï¼š
- Merkle æ ‘ â†” é«˜æ•ˆéªŒè¯å¤§é‡æ•°æ®
- Permit â†” å… gas æˆæƒæœºåˆ¶
- Multicall â†” æ‰¹é‡æ“ä½œåŠŸèƒ½

#### æ´»åŠ¨2ï¼šæ¶æ„è®¾è®¡è®¨è®ºï¼ˆ15åˆ†é’Ÿï¼‰
åˆ†ç»„è®¨è®ºï¼šå¦‚æœè¦è®¾è®¡ä¸€ä¸ªæ¸¸æˆé“å…·äº¤æ˜“å¸‚åœºï¼Œéœ€è¦å“ªäº›ç»„ä»¶ï¼Ÿ

### ğŸ“ è¯¾åä½œä¸š
1. å®Œæˆå¼€å‘ç¯å¢ƒæ­å»º
2. é˜…è¯»ã€Šæ•™å­¦æ–‡æ¡£-åˆå­¦è€…æŒ‡å—.mdã€‹
3. æ€è€ƒï¼šä½ æƒ³ç”¨è¿™ä¸ªæŠ€æœ¯è§£å†³ä»€ä¹ˆå®é™…é—®é¢˜ï¼Ÿ

---

## ğŸ”§ ç¬¬äºŒè¯¾ï¼šæ™ºèƒ½åˆçº¦å¼€å‘å®æˆ˜ï¼ˆ2å°æ—¶ï¼‰

### ğŸ• æ—¶é—´å®‰æ’

| æ—¶é—´æ®µ | å†…å®¹ | æ•™å­¦æ–¹å¼ |
|--------|------|----------|
| 0-30åˆ†é’Ÿ | ä»£ç ç»“æ„åˆ†æ | è®²è§£ + æ¼”ç¤º |
| 30-60åˆ†é’Ÿ | AirdropToken åˆçº¦å¼€å‘ | ç¼–ç  + æŒ‡å¯¼ |
| 60-70åˆ†é’Ÿ | ä¼‘æ¯ | - |
| 70-100åˆ†é’Ÿ | AirdropNFT åˆçº¦å¼€å‘ | ç¼–ç  + æŒ‡å¯¼ |
| 100-120åˆ†é’Ÿ | ç¼–è¯‘æµ‹è¯•ä¸é—®é¢˜è§£å†³ | å®æ“ + ç­”ç–‘ |

### ğŸ“– æ•™å­¦å†…å®¹

#### 1. ä»£ç ç»“æ„åˆ†æï¼ˆ30åˆ†é’Ÿï¼‰

**æ–‡ä»¶ç»“æ„è®²è§£**ï¼š
```
src/
â”œâ”€â”€ AirdropToken.sol      // ä»£å¸åˆçº¦
â”œâ”€â”€ AirdropNFT.sol        // NFT åˆçº¦
â””â”€â”€ AirdropMerkleNFTMarket.sol  // ä¸»åˆçº¦

test/
â””â”€â”€ AirdropMerkleNFTMarket.t.sol  // æµ‹è¯•æ–‡ä»¶
```

**å¯¼å…¥è¯­å¥è§£é‡Š**ï¼š
```solidity
// ä¸ºä»€ä¹ˆè¦å¯¼å…¥è¿™äº›ï¼Ÿ
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
// â†‘ æä¾›æ ‡å‡†çš„ä»£å¸åŠŸèƒ½

import "@openzeppelin/contracts/access/Ownable.sol";
// â†‘ æä¾›æƒé™æ§åˆ¶åŠŸèƒ½
```

#### 2. AirdropToken åˆçº¦å¼€å‘ï¼ˆ30åˆ†é’Ÿï¼‰

**é€æ­¥æ„å»º**ï¼š

```solidity
// ç¬¬ä¸€æ­¥ï¼šåŸºç¡€ç»“æ„
contract AirdropToken is ERC20, ERC20Permit, Ownable {
    // å­¦ç”Ÿæ€è€ƒï¼šä¸ºä»€ä¹ˆç»§æ‰¿è¿™ä¸‰ä¸ªåˆçº¦ï¼Ÿ
}

// ç¬¬äºŒæ­¥ï¼šæ„é€ å‡½æ•°
constructor(
    string memory name,
    string memory symbol,
    address initialOwner
) ERC20(name, symbol) ERC20Permit(name) Ownable(initialOwner) {
    // å­¦ç”Ÿæ€è€ƒï¼šæ¯ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
}

// ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒåŠŸèƒ½
function mint(address to, uint256 amount) external onlyOwner {
    _mint(to, amount);
    // å­¦ç”Ÿæ€è€ƒï¼šä¸ºä»€ä¹ˆéœ€è¦ onlyOwner ä¿®é¥°ç¬¦ï¼Ÿ
}
```

**è¾¹å†™è¾¹é—®**ï¼š
- "ä¸ºä»€ä¹ˆè¦ç»§æ‰¿ ERC20Permitï¼Ÿ"
- "onlyOwner ä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"
- "mint å‡½æ•°å¯èƒ½è¢«æ¶æ„åˆ©ç”¨å—ï¼Ÿ"

#### 3. AirdropNFT åˆçº¦å¼€å‘ï¼ˆ30åˆ†é’Ÿï¼‰

**é‡ç‚¹åŠŸèƒ½è®²è§£**ï¼š

```solidity
// çŠ¶æ€å˜é‡è®¾è®¡
uint256 private _tokenIdCounter;  // ä¸ºä»€ä¹ˆç”¨ privateï¼Ÿ
mapping(uint256 => uint256) public tokenPrices;  // ä¸ºä»€ä¹ˆç”¨ publicï¼Ÿ

// é“¸é€ åŠŸèƒ½
function mint(address to, string memory tokenURI) external onlyOwner returns (uint256) {
    _tokenIdCounter++;  // ä¸ºä»€ä¹ˆå…ˆåŠ å†ç”¨ï¼Ÿ
    uint256 tokenId = _tokenIdCounter;
    _mint(to, tokenId);
    _setTokenURI(tokenId, tokenURI);
    return tokenId;  // ä¸ºä»€ä¹ˆè¦è¿”å› tokenIdï¼Ÿ
}
```

**å®‰å…¨è€ƒè™‘**ï¼š
- æ•´æ•°æº¢å‡ºé—®é¢˜ï¼ˆSolidity 0.8+ è‡ªåŠ¨æ£€æŸ¥ï¼‰
- æƒé™æ§åˆ¶çš„é‡è¦æ€§
- è¾“å…¥éªŒè¯çš„å¿…è¦æ€§

#### 4. ç¼–è¯‘æµ‹è¯•ï¼ˆ20åˆ†é’Ÿï¼‰

**å®æ—¶æ¼”ç¤º**ï¼š
```bash
# ç¼–è¯‘åˆçº¦
forge build

# å¦‚æœæœ‰é”™è¯¯ï¼Œä¸€èµ·åˆ†æè§£å†³
# å¸¸è§é”™è¯¯ï¼š
# - å¯¼å…¥è·¯å¾„é”™è¯¯
# - è¯­æ³•é”™è¯¯
# - ç‰ˆæœ¬ä¸å…¼å®¹
```

### ğŸ¯ è¯¾å ‚æ´»åŠ¨

#### æ´»åŠ¨1ï¼šä»£ç å®¡æŸ¥ï¼ˆ15åˆ†é’Ÿï¼‰
å­¦ç”Ÿäº’ç›¸æ£€æŸ¥ä»£ç ï¼Œæ‰¾å‡ºæ½œåœ¨é—®é¢˜ï¼š
- æ˜¯å¦æœ‰å®‰å…¨æ¼æ´ï¼Ÿ
- ä»£ç é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼Ÿ
- å‘½åæ˜¯å¦è§„èŒƒï¼Ÿ

#### æ´»åŠ¨2ï¼šåŠŸèƒ½æ‰©å±•è®¨è®ºï¼ˆ10åˆ†é’Ÿï¼‰
è®¨è®ºï¼šå¦‚ä½•ä¸º NFT æ·»åŠ ç¨€æœ‰åº¦å±æ€§ï¼Ÿ

### ğŸ“ è¯¾åä½œä¸š
1. å®Œæˆ AirdropToken å’Œ AirdropNFT åˆçº¦
2. é˜…è¯»ã€Šåˆçº¦ä»£ç è¯¦è§£.mdã€‹
3. å°è¯•æ·»åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ï¼ˆå¦‚æ‰¹é‡é“¸é€ ï¼‰

---

## ğŸŒ³ ç¬¬ä¸‰è¯¾ï¼šMerkle æ ‘ä¸é«˜çº§åŠŸèƒ½ï¼ˆ2å°æ—¶ï¼‰

### ğŸ• æ—¶é—´å®‰æ’

| æ—¶é—´æ®µ | å†…å®¹ | æ•™å­¦æ–¹å¼ |
|--------|------|----------|
| 0-30åˆ†é’Ÿ | Merkle æ ‘åŸç†æ·±å…¥ | è®²è§£ + æ¼”ç¤º |
| 30-60åˆ†é’Ÿ | ä¸»åˆçº¦æ ¸å¿ƒåŠŸèƒ½å¼€å‘ | ç¼–ç  + æŒ‡å¯¼ |
| 60-70åˆ†é’Ÿ | ä¼‘æ¯ | - |
| 70-100åˆ†é’Ÿ | Permit ä¸ Multicall å®ç° | ç¼–ç  + æŒ‡å¯¼ |
| 100-120åˆ†é’Ÿ | å®Œæ•´æµ‹è¯•ä¸éƒ¨ç½² | å®æ“ + æ¼”ç¤º |

### ğŸ“– æ•™å­¦å†…å®¹

#### 1. Merkle æ ‘åŸç†æ·±å…¥ï¼ˆ30åˆ†é’Ÿï¼‰

**å¯è§†åŒ–æ¼”ç¤º**ï¼š
```
ç™½åå•éªŒè¯é—®é¢˜ï¼š
âŒ ä¼ ç»Ÿæ–¹å¼ï¼šå­˜å‚¨ 1000 ä¸ªåœ°å€ = $1000+ gas
âœ… Merkle æ ‘ï¼šå­˜å‚¨ 1 ä¸ªæ ¹å“ˆå¸Œ = $5 gas

        Root
       /    \
   Hash12   Hash34
   /  \     /   \
  H1   H2  H3   H4
  |    |   |    |
 åœ°å€A åœ°å€B åœ°å€C åœ°å€D
```

**JavaScript æ¼”ç¤º**ï¼š
```javascript
// ç°åœºæ¼”ç¤º Merkle æ ‘æ„å»º
const { MerkleTree } = require('merkletreejs');
const keccak256 = require('keccak256');

const addresses = ['0x1111...', '0x2222...', '0x3333...', '0x4444...'];
const leaves = addresses.map(addr => keccak256(addr));
const tree = new MerkleTree(leaves, keccak256, { sortPairs: true });

console.log('Root:', tree.getHexRoot());
console.log('Proof for 0x1111...:', tree.getHexProof(keccak256('0x1111...')));
```

#### 2. ä¸»åˆçº¦æ ¸å¿ƒåŠŸèƒ½ï¼ˆ30åˆ†é’Ÿï¼‰

**ç™½åå•éªŒè¯**ï¼š
```solidity
function verifyWhitelist(address user, bytes32[] calldata proof) public view returns (bool) {
    bytes32 leaf = keccak256(abi.encodePacked(user));
    return MerkleProof.verify(proof, merkleRoot, leaf);
    // å­¦ç”Ÿæ€è€ƒï¼šä¸ºä»€ä¹ˆè¦ç”¨ keccak256(abi.encodePacked(user))ï¼Ÿ
}
```

**ä»·æ ¼è®¡ç®—**ï¼š
```solidity
function calculateDiscountedPrice(uint256 originalPrice) public pure returns (uint256) {
    return (originalPrice * DISCOUNT_RATE) / 100;
    // å­¦ç”Ÿæ€è€ƒï¼šä¸ºä»€ä¹ˆç”¨ä¹˜æ³•å†é™¤æ³•ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¹˜ä»¥ 0.5ï¼Ÿ
}
```

**æ ¸å¿ƒè´­ä¹°é€»è¾‘**ï¼š
```solidity
function claimNFT(uint256 tokenId, bytes32[] calldata proof) external nonReentrant {
    // é€æ­¥æ„å»ºï¼Œæ¯ä¸€æ­¥éƒ½è§£é‡ŠåŸå› 
    require(nft.tokenListed(tokenId), "Token not listed");
    require(!hasClaimed[msg.sender], "Already claimed");
    
    uint256 originalPrice = nft.tokenPrices(tokenId);
    uint256 finalPrice;
    
    if (verifyWhitelist(msg.sender, proof)) {
        finalPrice = calculateDiscountedPrice(originalPrice);
    } else {
        finalPrice = originalPrice;
    }
    
    // ... ç»§ç»­å®ç°
}
```

#### 3. Permit ä¸ Multicallï¼ˆ30åˆ†é’Ÿï¼‰

**Permit æœºåˆ¶è®²è§£**ï¼š
```solidity
// ä¼ ç»Ÿæ–¹å¼ï¼š2 ç¬”äº¤æ˜“
// 1. approve(spender, amount)
// 2. transferFrom(owner, spender, amount)

// Permit æ–¹å¼ï¼š1 ç¬”äº¤æ˜“
// permit(owner, spender, amount, deadline, v, r, s) + transferFrom
```

**Multicall å®ç°**ï¼š
```solidity
function multicall(bytes[] calldata data) external returns (bytes[] memory results) {
    results = new bytes[](data.length);
    
    for (uint256 i = 0; i < data.length; i++) {
        (bool success, bytes memory result) = address(this).delegatecall(data[i]);
        require(success, "Multicall failed");
        results[i] = result;
    }
}
// å­¦ç”Ÿæ€è€ƒï¼šä¸ºä»€ä¹ˆç”¨ delegatecall è€Œä¸æ˜¯ callï¼Ÿ
```

#### 4. å®Œæ•´æµ‹è¯•ä¸éƒ¨ç½²ï¼ˆ20åˆ†é’Ÿï¼‰

**æµ‹è¯•æ¼”ç¤º**ï¼š
```bash
# è¿è¡Œæµ‹è¯•
forge test -vv

# å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œä¸€èµ·åˆ†æåŸå› 
# å¸¸è§é—®é¢˜ï¼š
# - ç­¾åéªŒè¯å¤±è´¥
# - æƒé™é—®é¢˜
# - é€»è¾‘é”™è¯¯
```

**éƒ¨ç½²æ¼”ç¤º**ï¼š
```bash
# æœ¬åœ°éƒ¨ç½²æµ‹è¯•
forge script script/Deploy.s.sol

# è§£é‡Šéƒ¨ç½²è¾“å‡º
# å±•ç¤ºåˆçº¦åœ°å€
# éªŒè¯éƒ¨ç½²æˆåŠŸ
```

### ğŸ¯ è¯¾å ‚æ´»åŠ¨

#### æ´»åŠ¨1ï¼šMerkle è¯æ˜éªŒè¯ï¼ˆ15åˆ†é’Ÿï¼‰
ç»™å®šä¸€ä¸ª Merkle æ ‘ï¼Œå­¦ç”Ÿæ‰‹åŠ¨è®¡ç®—è¯æ˜è·¯å¾„

#### æ´»åŠ¨2ï¼šå®‰å…¨æ¼æ´å‘ç°ï¼ˆ15åˆ†é’Ÿï¼‰
å±•ç¤ºä¸€æ®µæœ‰æ¼æ´çš„ä»£ç ï¼Œå­¦ç”Ÿæ‰¾å‡ºé—®é¢˜

### ğŸ“ è¯¾åä½œä¸š
1. å®Œæˆæ‰€æœ‰åˆçº¦å¼€å‘
2. é˜…è¯»ã€Šå®æˆ˜æ¼”ç»ƒæŒ‡å—.mdã€‹
3. å°è¯•éƒ¨ç½²åˆ°æµ‹è¯•ç½‘ç»œ

---

## ğŸ¯ æ•™å­¦æ–¹æ³•ä¸æŠ€å·§

### 1. äº’åŠ¨å¼æ•™å­¦

**æé—®æŠ€å·§**ï¼š
- å¼€æ”¾æ€§é—®é¢˜ï¼š"ä½ è§‰å¾—è¿™æ ·è®¾è®¡æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"
- å¼•å¯¼æ€§é—®é¢˜ï¼š"å¦‚æœä¸åŠ è¿™ä¸ªæ£€æŸ¥ä¼šæ€æ ·ï¼Ÿ"
- å¯¹æ¯”æ€§é—®é¢˜ï¼š"è¿™ä¸¤ç§æ–¹æ³•å“ªä¸ªæ›´å¥½ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"

**å­¦ç”Ÿå‚ä¸**ï¼š
- è®©å­¦ç”Ÿé¢„æµ‹ä»£ç æ‰§è¡Œç»“æœ
- é¼“åŠ±å­¦ç”Ÿæå‡ºæ”¹è¿›å»ºè®®
- ç»„ç»‡å°ç»„è®¨è®ºå’Œåˆ†äº«

### 2. æ¡ˆä¾‹é©±åŠ¨æ•™å­¦

**çœŸå®æ¡ˆä¾‹**ï¼š
- OpenSea çš„ NFT äº¤æ˜“
- Uniswap çš„ä»£å¸äº¤æ¢
- ENS çš„åŸŸåæ‹å–

**ç±»æ¯”è§£é‡Š**ï¼š
- æ™ºèƒ½åˆçº¦ = è‡ªåŠ¨å”®è´§æœº
- Gas è´¹ = é‚®è´¹
- ç§é’¥ = é“¶è¡Œå¡å¯†ç 

### 3. æ¸è¿›å¼éš¾åº¦

**çŸ¥è¯†ç‚¹é€’è¿›**ï¼š
```
åŸºç¡€æ¦‚å¿µ â†’ ç®€å•åˆçº¦ â†’ å¤æ‚é€»è¾‘ â†’ å®‰å…¨è€ƒè™‘ â†’ ä¼˜åŒ–æŠ€å·§
```

**ä»£ç å¤æ‚åº¦é€’è¿›**ï¼š
```
Hello World â†’ ERC20 â†’ ERC721 â†’ å¤åˆåˆçº¦ â†’ é«˜çº§ç‰¹æ€§
```

---

## ğŸ“Š è¯„ä¼°æ–¹å¼

### 1. è¿‡ç¨‹æ€§è¯„ä¼°ï¼ˆ60%ï¼‰

**è¯¾å ‚å‚ä¸ï¼ˆ20%ï¼‰**ï¼š
- ç§¯æå›ç­”é—®é¢˜
- ä¸»åŠ¨æå‡ºç–‘é—®
- å‚ä¸å°ç»„è®¨è®º

**ä½œä¸šå®Œæˆï¼ˆ40%ï¼‰**ï¼š
- ä»£ç è´¨é‡
- åŠŸèƒ½å®Œæ•´æ€§
- åˆ›æ–°æ€§æ‰©å±•

### 2. ç»“æœæ€§è¯„ä¼°ï¼ˆ40%ï¼‰

**é¡¹ç›®å±•ç¤º**ï¼š
- åˆçº¦åŠŸèƒ½æ¼”ç¤º
- ä»£ç è®²è§£
- é—®é¢˜å›ç­”

**è¯„åˆ†æ ‡å‡†**ï¼š
```
ä¼˜ç§€ï¼ˆ90-100ï¼‰ï¼šåŠŸèƒ½å®Œæ•´ï¼Œä»£ç è§„èŒƒï¼Œæœ‰åˆ›æ–°
è‰¯å¥½ï¼ˆ80-89ï¼‰ï¼šåŠŸèƒ½åŸºæœ¬å®Œæ•´ï¼Œä»£ç è¾ƒè§„èŒƒ
åŠæ ¼ï¼ˆ60-79ï¼‰ï¼šåŸºæœ¬åŠŸèƒ½å®ç°ï¼Œä»£ç å¯è¿è¡Œ
ä¸åŠæ ¼ï¼ˆ<60ï¼‰ï¼šåŠŸèƒ½ä¸å®Œæ•´æˆ–ä»£ç æ— æ³•è¿è¡Œ
```

---

## ğŸ› ï¸ æ•™å­¦èµ„æº

### 1. å¿…å¤‡å·¥å…·
- **å¼€å‘ç¯å¢ƒ**ï¼šVS Code + Solidity æ’ä»¶
- **åŒºå—é“¾å·¥å…·**ï¼šFoundryã€Remix IDE
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit + GitHub
- **æ–‡æ¡£å·¥å…·**ï¼šMarkdown ç¼–è¾‘å™¨

### 2. å‚è€ƒèµ„æ–™
- [Solidity å®˜æ–¹æ–‡æ¡£](https://docs.soliditylang.org/)
- [OpenZeppelin æ–‡æ¡£](https://docs.openzeppelin.com/)
- [Foundry æ•™ç¨‹](https://book.getfoundry.sh/)
- [ä»¥å¤ªåŠå¼€å‘è€…èµ„æº](https://ethereum.org/developers/)

### 3. åœ¨çº¿èµ„æº
- **æµ‹è¯•ç½‘ç»œ**ï¼šSepoliaã€Goerli
- **åŒºå—æµè§ˆå™¨**ï¼šEtherscan
- **ä»£å¸æ°´é¾™å¤´**ï¼šè·å–æµ‹è¯• ETH
- **IPFS ç½‘å…³**ï¼šå­˜å‚¨ NFT å…ƒæ•°æ®

---

## ğŸš¨ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 1. æŠ€æœ¯é—®é¢˜

**ç¼–è¯‘é”™è¯¯**ï¼š
```bash
# å¸¸è§é”™è¯¯ï¼šç‰ˆæœ¬ä¸å…¼å®¹
Error: Source file requires different compiler version

# è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ pragma ç‰ˆæœ¬
pragma solidity ^0.8.25;
```

**æµ‹è¯•å¤±è´¥**ï¼š
```bash
# å¸¸è§é”™è¯¯ï¼šç­¾åéªŒè¯å¤±è´¥
Error: ERC2612InvalidSigner

# è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ç§é’¥å’Œåœ°å€å¯¹åº”å…³ç³»
```

### 2. æ¦‚å¿µç†è§£é—®é¢˜

**Merkle æ ‘ç†è§£å›°éš¾**ï¼š
- ç”¨"å®¶è°±æ ‘"ç±»æ¯”
- ç”»å›¾æ¼”ç¤ºéªŒè¯è¿‡ç¨‹
- æä¾›åœ¨çº¿å¯è§†åŒ–å·¥å…·

**Gas è´¹æ¦‚å¿µæ¨¡ç³Š**ï¼š
- ç”¨"é‚®è´¹"ç±»æ¯”
- å±•ç¤ºå®é™…äº¤æ˜“è´¹ç”¨
- è§£é‡Šä¼˜åŒ–çš„é‡è¦æ€§

### 3. å®è·µæ“ä½œé—®é¢˜

**ç¯å¢ƒæ­å»ºå›°éš¾**ï¼š
- æä¾›è¯¦ç»†å®‰è£…æŒ‡å—
- å‡†å¤‡è™šæ‹Ÿæœºé•œåƒ
- å®‰æ’åŠ©æ•™ä¸€å¯¹ä¸€æŒ‡å¯¼

**ä»£ç è°ƒè¯•å›°éš¾**ï¼š
- æ•™æˆè°ƒè¯•æŠ€å·§
- æä¾›å¸¸è§é”™è¯¯åˆ—è¡¨
- é¼“åŠ±åŒå­¦äº’åŠ©

---

## ğŸ“ˆ è¯¾ç¨‹æ”¹è¿›å»ºè®®

### 1. å†…å®¹ä¼˜åŒ–
- æ ¹æ®å­¦ç”Ÿåé¦ˆè°ƒæ•´éš¾åº¦
- å¢åŠ æ›´å¤šå®é™…æ¡ˆä¾‹
- æ›´æ–°æœ€æ–°æŠ€æœ¯åŠ¨æ€

### 2. æ•™å­¦æ–¹å¼æ”¹è¿›
- å¢åŠ åŠ¨æ‰‹å®è·µæ—¶é—´
- å¼•å…¥æ›´å¤šäº’åŠ¨ç¯èŠ‚
- åˆ©ç”¨ç°ä»£åŒ–æ•™å­¦å·¥å…·

### 3. è¯„ä¼°æ–¹å¼å®Œå–„
- å¢åŠ åŒä¼´è¯„è®®ç¯èŠ‚
- å¼•å…¥é¡¹ç›®å±•ç¤ºè¯„åˆ†
- å»ºç«‹é•¿æœŸè·Ÿè¸ªæœºåˆ¶

---

## ğŸ‰ è¯¾ç¨‹æ€»ç»“

é€šè¿‡è¿™é—¨è¯¾ç¨‹ï¼Œå­¦ç”Ÿå°†ï¼š

âœ… **æŒæ¡æ ¸å¿ƒæŠ€èƒ½**ï¼šæ™ºèƒ½åˆçº¦å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²
âœ… **ç†è§£é‡è¦æ¦‚å¿µ**ï¼šMerkle æ ‘ã€Permitã€Multicall
âœ… **åŸ¹å…»å®‰å…¨æ„è¯†**ï¼šé˜²èŒƒå¸¸è§æ”»å‡»ï¼Œç¼–å†™å®‰å…¨ä»£ç 
âœ… **å»ºç«‹ç³»ç»Ÿæ€ç»´**ï¼šä»éœ€æ±‚åˆ†æåˆ°äº§å“ä¸Šçº¿çš„å®Œæ•´æµç¨‹
âœ… **è·å¾—å®æˆ˜ç»éªŒ**ï¼šå®Œæˆä¸€ä¸ªå®Œæ•´çš„ Web3 é¡¹ç›®

**å¯„è¯­**ï¼š
> "Web3 çš„ä¸–ç•Œå……æ»¡æ— é™å¯èƒ½ï¼Œå¸Œæœ›è¿™é—¨è¯¾ç¨‹èƒ½æˆä¸ºä½ æ¢ç´¢åŒºå—é“¾ä¸–ç•Œçš„èµ·ç‚¹ã€‚è®°ä½ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯ä¸æ–­å®è·µå’Œåˆ›æ–°ã€‚æ„¿ä½ åœ¨ Web3 çš„é“è·¯ä¸Šè¶Šèµ°è¶Šè¿œï¼" ğŸš€

---

## ğŸ“ è”ç³»æ–¹å¼

**è®²å¸ˆé‚®ç®±**ï¼šinstructor@web3course.com
**è¯¾ç¨‹ç¾¤ç»„**ï¼šWeb3 å­¦ä¹ äº¤æµç¾¤
**ç­”ç–‘æ—¶é—´**ï¼šæ¯å‘¨ä¸‰ã€äº” 19:00-21:00
**é¡¹ç›®ä»“åº“**ï¼šhttps://github.com/web3course/airdrop-merkle-nft-market

**è®°ä½**ï¼šå­¦ä¹ è·¯ä¸Šé‡åˆ°é—®é¢˜å¾ˆæ­£å¸¸ï¼Œé‡è¦çš„æ˜¯ä¿æŒå¥½å¥‡å¿ƒå’ŒåšæŒä¸æ‡ˆçš„ç²¾ç¥ï¼ğŸ’ª